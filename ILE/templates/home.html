<!DOCTYPE html>
<html>
    <head>
		<title> Interactive Lecture Enviro </title>
		 <!-- Latest compiled and minified Bootstrap CSS -->
		<link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
		<!-- theme -->
		<link type="text/css" rel="stylesheet" href="../bootstrap/css/bootstrap-theme.min.css">
		<!-- jquery, put before bootstrap.min.js for minimized window's navbar menu to work-->
		<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
		<!-- Latest compiled and minified Bootstrap JavaScript -->
		<script src="../bootstrap/js/bootstrap.min.js"></script>
		<!-- for chat -->
		<script src="../scripts/util.js"></script>

		<script>
			<!-- For Shoutbox -->
			function updateChat() {
				downloadUrl("/getchats", "GET", null, onChatsReturned);
			}
			
			function sendChat(form) {
				if(document.getElementById("chatAuthor").value == ""){
					document.getElementById("chatAuthor").value="Name" + (Math.floor(Math.random()*10000));
				}
				<!-- note: the ; combining the data cannot have space after it-->
				downloadUrl("/getchats", "POST", "content=" + encodeURI(document.getElementById("chatText").value) + ";" + "author=" + encodeURI(document.getElementById("chatAuthor").value)+ ";" + "question=" + encodeURI(document.getElementById("questiontype").checked), onChatsReturned);
				document.getElementById("chatText").value = "";
			}

			function onChatsReturned(responseText) {
				document.getElementById("chats").innerHTML = responseText;
			}

			function setup() {
				window.setInterval("updateChat()", 500)
				updateChat();
			}
			
			<!-- For Viewer -->
			function searchByMod(form) {
				downloadUrl("/getfiles", "POST", "modcode=" + encodeURI(document.getElementById("modcode").value), onDataReturned);
				document.getElementById("modcode").value = "";
			}
			
			function onDataReturned(response) {
				document.getElementById("files").innerHTML = response;
			}
		</script>
		
    </head>
	<body onload="setup()">
		<nav class="navbar navbar-inverse">
			<div class="container-fluid">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand">Interactive Lecture Enviro</a>
				</div>

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active"><a href="/">Home <span class="sr-only">(current)</span></a></li>
						<li><a href="/upload">Upload</a></li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<p class="navbar-text navbar-right">Testing<a href="#" class="navbar-link">Test</a></p>
						<li><button type="button" class="btn btn-default navbar-btn">A BUTTON</button></li>
					</ul>
				</div><!-- /.navbar-collapse -->
			</div><!-- /.container-fluid -->
		</nav>
		
		<!-- search -->
		<div class="well col-xs-9 pull-left" style="height:145px; text-align:center; margin-bottom:0px; padding-top:7px">
			<form action="javascript:searchByMod()">
				<fieldset>
					<div class="row-fluid">
						<h3><strong> Search by Module Code: </strong></h3>
						<input type="text" name="modCode" id="modcode" placeholder="Module Code e.g.CS3213" style="width:30%; border-radius:5px;">
						<p></p><button type="submit" class="btn btn-default btn-xs">Search</button>
					</div>
				</fieldset>
			</form>
		</div> <!-- end search -->
		
		<!-- shoutbox -->
		<div class="well col-xs-3 pull-right" style="height:795px">
			<h4><strong>Lecture ShoutBox</strong></h4>
			<div>
				<form action="javascript:sendChat()">
					<div>	
						<input name="question" type="radio" id="chattype" checked>Chat</input>
						<input name="question" type="radio" id="questiontype"><span style="color:#DC143C">Question</span></input>
						<input name="name" type="text" id="chatAuthor" style="width:80%" placeholder="Name"></input>
						<input name="content" type="text" id="chatText" style="width:80%" placeholder="Message"></input>
						<input type="submit" value="Go">
					</div>
				</form>
			</div>
			<br/>
			<div id="chats" style="padding:2px; border: 1px solid #CDC1C5; background-color:#E0EEE0; height:75%; width:100%; word-wrap:break-word; overflow-y:scroll"></div>
		</div>	<!--end shoutbox-->
		
		<!-- viewer -->
		<div class="well col-xs-9 pull-left" style="height:650px; text-align:center">
			<div id="files"></div>
			<!--<iframe src="http://docs.google.com/gview?url=http://samplepdf.com/sample.pdf&embedded=true" style="height:100%;width:100%" frameborder="0"></iframe>-->
		</div>	<!-- end viewer -->
		
		
	</body>
</html>